/*
NCURSE TESTE 005

A sub-windows creation test!
*/

import gui.ncurses.*;


var width = 23, height = 7;
var rows = 25, cols = 80;
var x = (cols - width) / 2;
var y = (rows - height) / 2;

var mw = NCurses.new(3000);
var cw = NCurses.new(mw, y, x, height, width, 3000);


cw.noEcho();
cw.enableKeyPad();

cw.box(1, 1);
cw.addStr(1, 4, "Move the window");
cw.addStr(2, 2, "with the arrow keys");
cw.addStr(3, 6, "or HOME/END");
cw.addStr(5, 3, "Press 'q' to quit");
cw.refresh();

var ch;

while ((ch = cw.getKey()) != 113) {

	if (ch == NCurses.KEY_UP) {
		if (y > 0) {
			--y;
		}
	} else if (ch == NCurses.KEY_DOWN) {
		if (y < (rows - height)) {
			++y;
		}
	} else if (ch == NCurses.KEY_LEFT) {
		if (x > 0) {
			--x;
		}
	} else if (ch == NCurses.KEY_RIGHT) {
		if (x < (cols - width)) {
			++x;
		}
	} else if (ch == NCurses.KEY_HOME) {
		x = (cols - width);
		y = (rows - height);
	}
	mw.move(x, y);
}

cw.hide();
mw.close();

