/*
NCURSE TESTE 005

A mesh renderization test!
*/

/*TODO: We need a Character type!!! */
import gui.ncurses.*;

/* Build grid */
var x0 = 5, y0 = 5;

var grid = [  "######################",
					    "#....................#",
						  "#....................#",
							"#....................#",
							"#....................#",
							"#.......x............#",
							"#....................#",
							"#....................#",
							"#....................#",
							"#....................#",
						  "######################"];


var n = grid.size();
var m = grid[0].size();

var i = 0;
var px = -1;
var py = -1;

while (i < n) {
	var j = 0;
	while (j < m) {
		if (grid[i].charAt(j) == 'x') {
			px = i;
			py = j;
			break;
		}
		++j;
	}
	if (px > -1 || py > -1) {
		break;
	}
	++i;
}


/* Render game */
var mw = NCurses.new(500);

i = 0;
while (i < n) {
	mw.addStr(i+x0,y0, grid[i]);
	++i;
}
mw.refresh();

mw.noEcho(); 
mw.enableKeyPad();


